<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>closure</title>
</head>
<script>
    var fn = null;
    function foo() {
        var a = 2;
        function innnerFoo() {
            console.log(a);
        }
        fn = innnerFoo; // 将 innnerFoo的引用，赋值给全局变量中的fn
    }

    function bar() {
        fn(); // 此处的保留的innerFoo的引用
    }

    foo();
    bar(); // 2

    // 作者：这波能反杀
    // 链接：https://www.jianshu.com/p/21a16d44f150
    // 來源：简书
    // 简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。
</script>
<body>
    
</body>
</html>